<!DOCTYPE html>
<html lang="zh-TW" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript èªæ³•å®Œæ•´æ•™å­¸</title>
    <link rel="icon" href="javascript_favicon.svg" type="image/svg+xml">
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;600&family=Segoe+UI:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* JavaScripté é¢ç‰¹å®šæ¨£å¼ */
        .js-logo {
            display: none; /* éš±è—åœ–æ¨™è€Œä¸æ˜¯å®Œå…¨åˆªé™¤ï¼Œä»¥é˜²æœ‰JavaScriptå¼•ç”¨è©²å…ƒç´  */
        }
        
        .header-container h1 {
            margin-left: 0; /* é‡ç½®æ¨™é¡Œå·¦é‚Šè·ï¼Œå› ç‚ºä¸å†éœ€è¦ç‚ºåœ–æ¨™é ç•™ç©ºé–“ */
        }
        
        .example {
            border-left: 4px solid var(--primary-color);
            padding: 0.8rem 1.5rem;
            margin: 1.5rem 0;
            background-color: rgba(52, 152, 219, 0.05);
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
        }
        
        .example-title {
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }
        
        .js-output {
            background-color: var(--code-bg);
            border: 1px solid var(--section-border);
            padding: 1rem;
            margin-top: 0.8rem;
            border-radius: var(--border-radius);
            font-family: Consolas, Monaco, monospace;
            position: relative;
        }
        
        .js-output::before {
            content: 'Output';
            position: absolute;
            top: -10px;
            left: 10px;
            background-color: var(--primary-color);
            color: white;
            font-size: 0.7rem;
            padding: 0.2rem 0.5rem;
            border-radius: 3px;
        }
        
        /* ç‰¹æ•ˆæç¤º */
        .tip {
            background-color: rgba(46, 204, 113, 0.1);
            border-left: 4px solid #2ecc71;
            padding: 1rem 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
            position: relative;
        }
        
        .tip::before {
            content: 'ğŸ’¡ æç¤º';
            font-weight: 600;
            color: #27ae60;
            display: block;
            margin-bottom: 0.5rem;
        }
        
        .warning {
            background-color: rgba(241, 196, 15, 0.1);
            border-left: 4px solid #f1c40f;
            padding: 1rem 1.5rem;
            margin: 1.5rem 0;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
            position: relative;
        }
        
        .warning::before {
            content: 'âš ï¸ æ³¨æ„';
            font-weight: 600;
            color: #d35400;
            display: block;
            margin-bottom: 0.5rem;
        }
        
        /* èªæ³•çªå‡ºé¡¯ç¤º */
        .keyword { color: #8e44ad; }
        .string { color: #27ae60; }
        .comment { color: #7f8c8d; font-style: italic; }
        .number { color: #e67e22; }
        .function { color: #3498db; }
        
        /* é é¢ç‰¹æ•ˆ */
        #introduction {
            position: relative;
            overflow: hidden;
        }
        
        #introduction::before {
            content: "{JS}";
            position: absolute;
            bottom: -50px;
            right: -20px;
            font-size: 150px;
            opacity: 0.03;
            font-weight: bold;
            z-index: 0;
            font-family: monospace;
        }
        
        /* äº’å‹•å¼ç›®éŒ„ */
        nav {
            margin-top: 0;
            border-top: none;
            padding: 0;
            overflow-x: hidden;
            background-color: #1e3a5f;
            display: block;
            width: 100%;
            border-radius: 0.5rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }
        
        nav ul {
            display: block;
            padding: 0;
            margin: 0;
        }
        
        nav li {
            margin: 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        nav li:last-child {
            border-bottom: none;
        }
        
        nav a {
            padding: 0.9rem 1rem;
            display: block;
            color: rgba(255, 255, 255, 0.9);
            transition: var(--transition);
            font-size: 0.95rem;
            text-decoration: none;
        }
        
        nav a:hover, nav a:focus {
            background-color: rgba(255, 255, 255, 0.1);
            color: white;
            transform: translateX(5px);
        }
        
        nav a.active {
            background-color: rgba(255, 255, 255, 0.15);
            color: white;
            font-weight: 500;
            border-left: 3px solid #3498db;
        }
        
        /* å´é‚Šæ¬„ç›®éŒ„ */
        .toc {
            padding: 0;
            position: sticky;
            top: 100px;
            max-height: calc(100vh - 120px);
            overflow-y: auto;
            background-color: transparent;
            border-radius: var(--border-radius);
            box-shadow: none;
            margin-bottom: 2rem;
        }
        
        .toc h3 {
            padding: 1rem;
            margin: 0;
            background-color: #173052;
            color: white;
            font-size: 1.1rem;
            border-top-left-radius: 0.5rem;
            border-top-right-radius: 0.5rem;
        }
        
        /* å…§å®¹ä½ˆå±€ */
        .content-wrapper {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 2rem;
            align-items: start;
        }
        
        /* ç§»å‹•ç‰ˆä½ˆå±€ */
        @media (max-width: 768px) {
            .content-wrapper {
                grid-template-columns: 1fr;
            }
            
            .toc {
                position: relative;
                top: 0;
                max-height: none;
                margin-bottom: 1.5rem;
            }
        }
        
        /* æ·±è‰²æ¨¡å¼ä¸‹çš„é¡è‰²è¦†è“‹ */
        [data-theme="dark"] {
            --text-color: #e5e5e5;
            --background-color: #1a1a1a;
            --code-bg: #2d2d2d;
            --section-border: #333;
        }
        
        /* ä¿®æ”¹é¦–é æŒ‰éˆ•æ¨£å¼ */
        .home-button {
            background: none;
            border: none;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-right: 10px;
            transition: var(--transition);
            background-color: var(--section-bg);
            font-size: 1.3rem;
            text-decoration: none;
        }
        
        .home-button:hover {
            background-color: var(--section-border);
        }
        
        [data-theme="dark"] .home-button {
            border-color: #6ab0ff;
            color: #6ab0ff;
        }
        
        [data-theme="dark"] .home-button:hover {
            background-color: #6ab0ff;
            color: #1a1a1a;
        }
        
        /* æ¨™é¡Œå€åŸŸæŒ‰éˆ•å®¹å™¨ */
        .header-buttons {
            display: flex;
            align-items: center;
        }
    </style>
</head>
<body>
    <header>
        <div class="header-container">
            <img src="javascript_favicon.svg" alt="JavaScript Logo" class="js-logo">
            <h1>JavaScript èªæ³•å®Œæ•´æ•™å­¸</h1>
            <div class="header-buttons">
                <a href="home.html" class="home-button" aria-label="è¿”å›é¦–é ">ğŸ </a>
                <button id="theme-toggle" aria-label="åˆ‡æ›æ·±è‰²/æ·ºè‰²æ¨¡å¼">
                    <span class="theme-icon light-icon">ğŸŒ</span>
                    <span class="theme-icon dark-icon">ğŸŒ™</span>
                </button>
            </div>
        </div>
    </header>

    <main>
        <div class="content-wrapper">
            <aside class="toc" id="table-of-contents">
                <h3>ç›®éŒ„</h3>
                <nav>
                    <ul>
                        <li><a href="#js-basics">JavaScriptåŸºç¤</a></li>
                        <li><a href="#variables">è®Šæ•¸èˆ‡æ•¸æ“šé¡å‹</a></li>
                        <li><a href="#operators">é‹ç®—ç¬¦</a></li>
                        <li><a href="#control-flow">æ§åˆ¶æµç¨‹</a></li>
                        <li><a href="#functions">å‡½æ•¸</a></li>
                        <li><a href="#arrays">é™£åˆ—</a></li>
                        <li><a href="#objects">ç‰©ä»¶</a></li>
                        <li><a href="#dom">DOMæ“ä½œ</a></li>
                        <li><a href="#events">äº‹ä»¶è™•ç†</a></li>
                        <li><a href="#async">ç•°æ­¥ç·¨ç¨‹</a></li>
                        <li><a href="#error-handling">éŒ¯èª¤è™•ç†</a></li>
                        <li><a href="#es6plus">ES6+ç‰¹æ€§</a></li>
                        <li><a href="#modules">æ¨¡çµ„ç³»çµ±</a></li>
                        <li><a href="#storage">å­˜å„²</a></li>
                        <li><a href="#json">JSONæ“ä½œ</a></li>
                        <li><a href="#api">APIè«‹æ±‚</a></li>
                        <li><a href="#debugging">èª¿è©¦æŠ€å·§</a></li>
                        <li><a href="#best-practices">æœ€ä½³å¯¦è¸</a></li>
                    </ul>
                </nav>
            </aside>
            
            <div class="main-content">
                <section id="introduction" class="fade-in">
                    <h2>JavaScript èªæ³•å®Œæ•´æ•™å­¸</h2>
                    <p>JavaScriptæ˜¯ä¸€ç¨®é«˜ç´šçš„ã€è§£é‡‹å‹çš„ç¨‹å¼èªè¨€ï¼Œæ˜¯ç¶²é é–‹ç™¼ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ã€‚å®ƒä½¿ç¶²é å…·æœ‰äº’å‹•æ€§ï¼Œä¸¦ä½¿é–‹ç™¼è€…èƒ½å¤ å‰µå»ºå‹•æ…‹å…§å®¹å’ŒWebæ‡‰ç”¨ç¨‹åºã€‚</p>
                    <p>æœ¬æ•™å­¸å°‡ç³»çµ±åœ°ä»‹ç´¹JavaScriptçš„å„ç¨®èªæ³•å’Œæ¦‚å¿µï¼Œå¾åŸºç¤åˆ°é€²éšï¼Œå¹«åŠ©æ‚¨æŒæ¡é€™é–€å¼·å¤§çš„ç¨‹å¼èªè¨€ã€‚</p>
                    
                    <div class="tip">
                        å­¸ç¿’JavaScriptæœ€å¥½çš„æ–¹å¼æ˜¯å‹•æ‰‹å¯¦è¸ï¼æœ¬æ•™å­¸ä¸­çš„æ‰€æœ‰ä»£ç¢¼ç¯„ä¾‹éƒ½å¯ä»¥ç›´æ¥åŸ·è¡Œï¼Œè«‹å–„ç”¨ã€ŒåŸ·è¡Œã€æŒ‰éˆ•æ¸¬è©¦çµæœã€‚
                    </div>
                </section>

                <section id="js-basics" class="section fade-in">
                    <h2>1. JavaScriptåŸºç¤</h2>
                    <h3>1.1 ä»€éº¼æ˜¯JavaScriptï¼Ÿ</h3>
                    <p>JavaScriptæ˜¯ä¸€ç¨®è¼•é‡ç´šã€è§£é‡‹å‹æˆ–å³æ™‚ç·¨è­¯å‹çš„ç¨‹å¼èªè¨€ï¼Œå»£æ³›ç”¨æ–¼Webé–‹ç™¼ã€‚å®ƒæ˜¯ç¶²é ä¸‰å¤§æ ¸å¿ƒæŠ€è¡“ä¹‹ä¸€ï¼ˆHTMLã€CSSã€JavaScriptï¼‰ã€‚</p>
                    
                    <div class="example">
                        <div class="example-title">JavaScriptçš„ä¸»è¦ç‰¹é»ï¼š</div>
                        <ul>
                            <li>é«˜ç´šã€å‹•æ…‹é¡å‹çš„ç¨‹å¼èªè¨€</li>
                            <li>è§£é‡‹åŸ·è¡Œï¼Œä¸éœ€è¦ç·¨è­¯</li>
                            <li>åŸºæ–¼åŸå‹çš„ç‰©ä»¶å°å‘</li>
                            <li>å–®ç·šç¨‹åŸ·è¡Œæ¨¡å‹ï¼Œä½†æ”¯æ´ç•°æ­¥æ“ä½œ</li>
                            <li>äº‹ä»¶é©…å‹•çš„ç¨‹å¼è¨­è¨ˆç¯„å¼</li>
                            <li>è·¨å¹³å°å’Œè·¨ç€è¦½å™¨çš„å…¼å®¹æ€§</li>
                        </ul>
                    </div>
                    
                    <h3>1.2 å¦‚ä½•åœ¨ç¶²é ä¸­ä½¿ç”¨JavaScript</h3>
                    <p>JavaScriptå¯ä»¥é€éå¤šç¨®æ–¹å¼åµŒå…¥åˆ°ç¶²é ä¸­ï¼š</p>
                    
                    <div class="runnable-code">
                        <textarea class="code-editor" id="code-embed" readonly><!-- 1. å…§åµŒè…³æœ¬ -->
<script>
    console.log("Hello from inline script!");
</script>

<!-- 2. å¤–éƒ¨è…³æœ¬ -->
<script src="script.js"></script>

<!-- 3. HTMLäº‹ä»¶å±¬æ€§ -->
<button onclick="alert('Button clicked!')">Click Me</button>

<!-- 4. JavaScript: URL -->
<a href="javascript:alert('Link clicked!')">Click This Link</a></textarea>
                        <button class="copy-button" onclick="copyCode('code-embed')">è¤‡è£½</button>
                    </div>
                    
                    <h3>1.3 JavaScripté–‹ç™¼å·¥å…·</h3>
                    <p>é–‹ç™¼JavaScriptæ™‚ï¼Œå¯ä»¥åˆ©ç”¨ä»¥ä¸‹å·¥å…·ï¼š</p>
                    <ul>
                        <li>ç€è¦½å™¨é–‹ç™¼è€…å·¥å…·ï¼ˆæŒ‰F12æˆ–å³éµé»é¸ã€Œæª¢æŸ¥ã€ï¼‰</li>
                        <li>ä»£ç¢¼ç·¨è¼¯å™¨ï¼šå¦‚Visual Studio Codeã€Sublime Textç­‰</li>
                        <li>Node.jsï¼šç”¨æ–¼åœ¨ç€è¦½å™¨å¤–é‹è¡ŒJavaScript</li>
                        <li>npmï¼ˆNode Package Managerï¼‰ï¼šç®¡ç†JavaScriptåŒ…å’Œä¾è³´</li>
                        <li>ESLintã€Prettierç­‰ä»£ç¢¼è³ªé‡å·¥å…·</li>
                    </ul>
                    
                    <div class="warning">
                        ç€è¦½å™¨å…¼å®¹æ€§æ˜¯JavaScripté–‹ç™¼ä¸­çš„é‡è¦è€ƒé‡å› ç´ ã€‚ä¸åŒç€è¦½å™¨å¯èƒ½å°æŸäº›JavaScriptç‰¹æ€§æœ‰ä¸åŒçš„å¯¦ç¾ï¼Œè«‹å‹™å¿…æ¸¬è©¦æ‚¨çš„ä»£ç¢¼åœ¨å„ä¸»è¦ç€è¦½å™¨ä¸­çš„è¡¨ç¾ã€‚
                    </div>
                </section>
                
                <!-- é€™è£¡ç¹¼çºŒæ·»åŠ å…¶ä»–ç« ç¯€ -->
                <section id="variables" class="section fade-in">
                    <h2>2. è®Šæ•¸èˆ‡æ•¸æ“šé¡å‹</h2>
                    <h3>2.1 è®Šæ•¸å®£å‘Š</h3>
                    <p>JavaScript ä¸­æœ‰ä¸‰ç¨®å®£å‘Šè®Šæ•¸çš„æ–¹å¼ï¼švarã€let å’Œ constã€‚</p>
                    
                    <div class="runnable-code">
                        <textarea class="code-editor" id="code-variables" readonly>// var - å‡½æ•¸ä½œç”¨åŸŸï¼Œå¯ä»¥é‡æ–°å®£å‘Šï¼Œå¯ä»¥æ›´æ–°
var name = "JavaScript";
var name = "JS"; // å¯ä»¥é‡æ–°å®£å‘Š

// let - å¡Šç´šä½œç”¨åŸŸï¼Œä¸å¯é‡æ–°å®£å‘Šï¼Œå¯ä»¥æ›´æ–°
let age = 25;
// let age = 26; // éŒ¯èª¤ï¼šä¸èƒ½é‡æ–°å®£å‘Š
age = 26; // å¯ä»¥æ›´æ–°å€¼

// const - å¡Šç´šä½œç”¨åŸŸï¼Œä¸å¯é‡æ–°å®£å‘Šï¼Œä¸å¯æ›´æ–°ï¼ˆä½†å°è±¡çš„å±¬æ€§å¯ä»¥ä¿®æ”¹ï¼‰
const PI = 3.14159;
// PI = 3; // éŒ¯èª¤ï¼šä¸èƒ½æ›´æ–°å¸¸é‡å€¼

// å¸¸é‡å°è±¡çš„å±¬æ€§å¯ä»¥ä¿®æ”¹
const person = { name: "Tom" };
person.name = "Jerry"; // é€™æ˜¯å…è¨±çš„
// person = { name: "Jerry" }; // éŒ¯èª¤ï¼šä¸èƒ½é‡æ–°è³¦å€¼

console.log(name, age, PI, person);</textarea>
                        <button class="copy-button" onclick="copyCode('code-variables')">è¤‡è£½</button>
                    </div>
                    
                    <div class="warning">
                        ç¾ä»£JavaScripté–‹ç™¼ä¸­æ¨è–¦ä½¿ç”¨letå’Œconstè€Œä¸æ˜¯varï¼Œå› ç‚ºå®ƒå€‘æä¾›æ›´å¥½çš„ä½œç”¨åŸŸæ§åˆ¶å’ŒéŒ¯èª¤é é˜²ã€‚
                    </div>
                    
                    <h3>2.2 æ•¸æ“šé¡å‹</h3>
                    <p>JavaScript æœ‰ä¸ƒç¨®åŸºæœ¬æ•¸æ“šé¡å‹å’Œä¸€ç¨®è¤‡é›œæ•¸æ“šé¡å‹ï¼ˆå°è±¡ï¼‰ã€‚</p>
                    
                    <div class="example">
                        <div class="example-title">JavaScript çš„æ•¸æ“šé¡å‹ï¼š</div>
                        <ul>
                            <li><strong>åŸºæœ¬é¡å‹</strong>ï¼ˆåŸå§‹å€¼ï¼‰ï¼š
                                <ul>
                                    <li>Stringï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼šæ–‡æœ¬</li>
                                    <li>Numberï¼ˆæ•¸å­—ï¼‰ï¼šæ•´æ•¸å’Œæµ®é»æ•¸</li>
                                    <li>Booleanï¼ˆå¸ƒçˆ¾å€¼ï¼‰ï¼štrue æˆ– false</li>
                                    <li>Undefinedï¼šè®Šæ•¸æœªè³¦å€¼</li>
                                    <li>Nullï¼šè¡¨ç¤ºç„¡å€¼æˆ–ç©ºå€¼</li>
                                    <li>Symbolï¼ˆES6ï¼‰ï¼šå”¯ä¸€ä¸”ä¸å¯è®Šçš„æ•¸æ“šé¡å‹</li>
                                    <li>BigIntï¼ˆES2020ï¼‰ï¼šä»»æ„ç²¾åº¦æ•´æ•¸</li>
                                </ul>
                            </li>
                            <li><strong>å¼•ç”¨é¡å‹</strong>ï¼š
                                <ul>
                                    <li>Objectï¼šåŒ…å«æ•¸çµ„ï¼ˆArrayï¼‰ã€å‡½æ•¸ï¼ˆFunctionï¼‰ã€æ—¥æœŸï¼ˆDateï¼‰ç­‰</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    
                    <div class="runnable-code">
                        <textarea class="code-editor" id="code-data-types" readonly>// å­—ç¬¦ä¸² (String)
let str = "Hello, JavaScript!";
console.log(typeof str); // "string"

// æ•¸å­— (Number)
let num = 42;
let float = 3.14;
console.log(typeof num, typeof float); // "number" "number"

// å¸ƒçˆ¾å€¼ (Boolean)
let isActive = true;
console.log(typeof isActive); // "boolean"

// Undefined
let notDefined;
console.log(typeof notDefined); // "undefined"

// Null
let empty = null;
console.log(typeof empty); // "object" (é€™æ˜¯JSçš„ä¸€å€‹å·²çŸ¥bug)

// Symbol (ES6)
let sym = Symbol("id");
console.log(typeof sym); // "symbol"

// BigInt (ES2020)
let bigNumber = 9007199254740991n; // åŠ  n å¾Œç¶´è¡¨ç¤º BigInt
console.log(typeof bigNumber); // "bigint"

// å°è±¡ (Object)
let obj = { name: "JavaScript", year: 1995 };
console.log(typeof obj); // "object"

// æ•¸çµ„ (Array) - ä¹Ÿæ˜¯å°è±¡é¡å‹
let arr = [1, 2, 3, 4];
console.log(typeof arr); // "object"
console.log(Array.isArray(arr)); // true

// å‡½æ•¸ (Function) - ä¹Ÿæ˜¯å°è±¡é¡å‹
let func = function() { return "Hello"; };
console.log(typeof func); // "function"</textarea>
                        <button class="copy-button" onclick="copyCode('code-data-types')">è¤‡è£½</button>
                    </div>
                    
                    <h3>2.3 é¡å‹è½‰æ›</h3>
                    <p>JavaScript ä¸­çš„é¡å‹å¯ä»¥é€šéé¡¯å¼ï¼ˆæ‰‹å‹•ï¼‰æˆ–éš±å¼ï¼ˆè‡ªå‹•ï¼‰æ–¹å¼é€²è¡Œè½‰æ›ã€‚</p>
                    
                    <div class="runnable-code">
                        <textarea class="code-editor" id="code-type-conversion" readonly>// å­—ç¬¦ä¸²è½‰æ›ç‚ºæ•¸å­—
let str = "42";
let num1 = Number(str); // é¡¯å¼è½‰æ›
let num2 = +str;        // éš±å¼è½‰æ›
console.log(num1, num2); // 42 42

// æ•¸å­—è½‰æ›ç‚ºå­—ç¬¦ä¸²
let num = 42;
let str1 = String(num); // é¡¯å¼è½‰æ›
let str2 = num + "";    // éš±å¼è½‰æ›
console.log(str1, str2); // "42" "42"

// è½‰æ›ç‚ºå¸ƒçˆ¾å€¼
let bool1 = Boolean(1);     // é¡¯å¼è½‰æ›
let bool2 = !!0;            // éš±å¼è½‰æ›
console.log(bool1, bool2);  // true false

// è½‰æ›ç‚ºå°è±¡
let obj = Object("hello");
console.log(typeof obj, obj); // "object" String {"hello"}

// è½‰æ›é‚Šç·£æƒ…æ³
console.log(Number(""));    // 0
console.log(Number("abc")); // NaN (Not a Number)
console.log(Boolean(0));    // false
console.log(Boolean(""));   // false
console.log(Boolean("0"));  // true (éç©ºå­—ç¬¦ä¸²)
console.log(Boolean({}));   // true (ä»»ä½•å°è±¡)</textarea>
                        <button class="copy-button" onclick="copyCode('code-type-conversion')">è¤‡è£½</button>
                    </div>
                    
                    <div class="tip">
                        åœ¨æ¯”è¼ƒä¸åŒé¡å‹çš„å€¼æ™‚ï¼ŒJavaScript æœƒé€²è¡Œéš±å¼é¡å‹è½‰æ›ï¼Œé€™å¯èƒ½å°è‡´æ„å¤–çµæœã€‚å»ºè­°ä½¿ç”¨åš´æ ¼ç›¸ç­‰é‹ç®—ç¬¦ <code>===</code> å’Œåš´æ ¼ä¸ç›¸ç­‰é‹ç®—ç¬¦ <code>!==</code>ï¼Œå®ƒå€‘æœƒæ¯”è¼ƒå€¼å’Œé¡å‹ï¼Œä¸é€²è¡Œé¡å‹è½‰æ›ã€‚
                    </div>
                </section>

                <section id="operators" class="section fade-in">
                    <h2>3. é‹ç®—ç¬¦</h2>
                    <h3>3.1 ç®—è¡“é‹ç®—ç¬¦</h3>
                    <p>ç®—è¡“é‹ç®—ç¬¦ç”¨æ–¼åŸ·è¡Œæ•¸å­¸é‹ç®—ã€‚</p>
                    
                    <div class="runnable-code">
                        <textarea class="code-editor" id="code-arithmetic" readonly>// åŸºæœ¬ç®—è¡“é‹ç®—ç¬¦
let a = 10;
let b = 3;

console.log(a + b);  // åŠ æ³•: 13
console.log(a - b);  // æ¸›æ³•: 7
console.log(a * b);  // ä¹˜æ³•: 30
console.log(a / b);  // é™¤æ³•: 3.3333...
console.log(a % b);  // å–é¤˜: 1
console.log(a ** b); // å†ªé‹ç®— (ES2016): 1000

// è‡ªå¢å’Œè‡ªæ¸›
let c = 5;
console.log(c++);    // å¾Œç½®è‡ªå¢: å…ˆè¿”å› 5ï¼Œç„¶å¾Œ c è®Šç‚º 6
console.log(++c);    // å‰ç½®è‡ªå¢: å…ˆå°‡ c å¢åŠ åˆ° 7ï¼Œç„¶å¾Œè¿”å› 7
console.log(c--);    // å¾Œç½®è‡ªæ¸›: å…ˆè¿”å› 7ï¼Œç„¶å¾Œ c è®Šç‚º 6
console.log(--c);    // å‰ç½®è‡ªæ¸›: å…ˆå°‡ c æ¸›å°‘åˆ° 5ï¼Œç„¶å¾Œè¿”å› 5</textarea>
                        <button class="copy-button" onclick="copyCode('code-arithmetic')">è¤‡è£½</button>
                    </div>
                    
                    <h3>3.2 è³¦å€¼é‹ç®—ç¬¦</h3>
                    <p>è³¦å€¼é‹ç®—ç¬¦ç”¨æ–¼çµ¦è®Šæ•¸è³¦å€¼ã€‚</p>
                    
                    <div class="runnable-code">
                        <textarea class="code-editor" id="code-assignment" readonly>// åŸºæœ¬è³¦å€¼
let x = 10;

// è¤‡åˆè³¦å€¼
x += 5;      // ç­‰åŒæ–¼ x = x + 5;
console.log(x);  // 15

x -= 3;      // ç­‰åŒæ–¼ x = x - 3;
console.log(x);  // 12

x *= 2;      // ç­‰åŒæ–¼ x = x * 2;
console.log(x);  // 24

x /= 4;      // ç­‰åŒæ–¼ x = x / 4;
console.log(x);  // 6

x %= 4;      // ç­‰åŒæ–¼ x = x % 4;
console.log(x);  // 2

x **= 3;     // ç­‰åŒæ–¼ x = x ** 3;
console.log(x);  // 8</textarea>
                        <button class="copy-button" onclick="copyCode('code-assignment')">è¤‡è£½</button>
                    </div>
                    
                    <h3>3.3 æ¯”è¼ƒé‹ç®—ç¬¦</h3>
                    <p>æ¯”è¼ƒé‹ç®—ç¬¦ç”¨æ–¼æ¯”è¼ƒå€¼ï¼Œä¸¦è¿”å›å¸ƒçˆ¾çµæœï¼ˆtrue æˆ– falseï¼‰ã€‚</p>
                    
                    <div class="runnable-code">
                        <textarea class="code-editor" id="code-comparison" readonly>// ç›¸ç­‰æ€§æ¯”è¼ƒ
console.log(5 == 5);     // ç›¸ç­‰: true
console.log(5 == "5");   // ç›¸ç­‰ï¼ˆå€¼è½‰æ›å¾Œï¼‰: true
console.log(5 === "5");  // åš´æ ¼ç›¸ç­‰ï¼ˆé¡å‹ä¹Ÿå¿…é ˆç›¸åŒï¼‰: false

console.log(5 != 8);     // ä¸ç›¸ç­‰: true
console.log(5 != "5");   // ä¸ç›¸ç­‰ï¼ˆå€¼è½‰æ›å¾Œï¼‰: false
console.log(5 !== "5");  // åš´æ ¼ä¸ç›¸ç­‰: true

// é—œä¿‚æ¯”è¼ƒ
console.log(5 > 3);      // å¤§æ–¼: true
console.log(5 < 3);      // å°æ–¼: false
console.log(5 >= 5);     // å¤§æ–¼ç­‰æ–¼: true
console.log(5 <= 4);     // å°æ–¼ç­‰æ–¼: false

// ç‰¹æ®Šæƒ…æ³
console.log(null == undefined);  // trueï¼ˆå…©è€…éƒ½è¡¨ç¤º"ç„¡å€¼"ï¼‰
console.log(null === undefined); // falseï¼ˆé¡å‹ä¸åŒï¼‰
console.log(NaN == NaN);         // falseï¼ˆNaNä¸ç­‰æ–¼ä»»ä½•å€¼ï¼ŒåŒ…æ‹¬è‡ªèº«ï¼‰
console.log(NaN === NaN);        // false</textarea>
                        <button class="copy-button" onclick="copyCode('code-comparison')">è¤‡è£½</button>
                    </div>
                    
                    <h3>3.4 é‚è¼¯é‹ç®—ç¬¦</h3>
                    <p>é‚è¼¯é‹ç®—ç¬¦ç”¨æ–¼çµ„åˆæˆ–åè½‰å¸ƒçˆ¾å€¼ã€‚</p>
                    
                    <div class="runnable-code">
                        <textarea class="code-editor" id="code-logical" readonly>// é‚è¼¯èˆ‡ (AND)
console.log(true && true);   // true
console.log(true && false);  // false
console.log(false && true);  // false
console.log(false && false); // false

// é‚è¼¯æˆ– (OR)
console.log(true || true);   // true
console.log(true || false);  // true
console.log(false || true);  // true
console.log(false || false); // false

// é‚è¼¯é (NOT)
console.log(!true);   // false
console.log(!false);  // true

// çŸ­è·¯æ±‚å€¼
let a = null;
let b = a || "é»˜èªå€¼";  // å¦‚æœ a æ˜¯ falsy å€¼ï¼Œå‰‡ä½¿ç”¨é»˜èªå€¼
console.log(b);  // "é»˜èªå€¼"

let c = 42;
let d = c && "c å­˜åœ¨";  // å¦‚æœ c æ˜¯ truthy å€¼ï¼Œå‰‡ä½¿ç”¨ç¬¬äºŒå€‹å€¼
console.log(d);  // "c å­˜åœ¨"

// é‚è¼¯ç©ºè³¦å€¼ (??=) - ES2020
let user = { name: "Tom" };
user.name ??= "Guest";  // å¦‚æœ user.name æ˜¯ null æˆ– undefinedï¼Œæ‰è³¦å€¼
console.log(user.name);  // "Tom"ï¼ˆæœªè®Šï¼‰

user.age ??= 18;  // å¦‚æœ user.age æ˜¯ null æˆ– undefinedï¼Œæ‰è³¦å€¼
console.log(user.age);  // 18ï¼ˆè³¦å€¼äº†ï¼‰</textarea>
                        <button class="copy-button" onclick="copyCode('code-logical')">è¤‡è£½</button>
                    </div>
                    
                    <h3>3.5 å…¶ä»–é‡è¦é‹ç®—ç¬¦</h3>
                    <div class="runnable-code">
                        <textarea class="code-editor" id="code-other-ops" readonly>// æ¢ä»¶ï¼ˆä¸‰å…ƒï¼‰é‹ç®—ç¬¦
let age = 20;
let status = (age >= 18) ? "æˆå¹´" : "æœªæˆå¹´";
console.log(status);  // "æˆå¹´"

// ç©ºå€¼åˆä½µé‹ç®—ç¬¦ (??) - ES2020
// åªæœ‰åœ¨å·¦å´ç‚º null æˆ– undefined æ™‚æ‰è¿”å›å³å´å€¼
let user;
let displayName = user ?? "Guest";
console.log(displayName);  // "Guest"

let count = 0;
let displayCount = count ?? "æœªçŸ¥";
console.log(displayCount);  // 0ï¼ˆä¸åŒæ–¼ ||ï¼Œ0ä¸è¢«è¦–ç‚ºfalsyï¼‰

// å¯é¸éˆé‹ç®—ç¬¦ (?.) - ES2020
let user2 = {}; // ç©ºå°è±¡
// console.log(user2.address.city); // æœƒå ±éŒ¯ï¼šCannot read property 'city' of undefined
console.log(user2.address?.city); // undefinedï¼ˆä¸å ±éŒ¯ï¼‰

// å±•é–‹é‹ç®—ç¬¦ (...)
let arr1 = [1, 2, 3];
let arr2 = [...arr1, 4, 5]; // [1, 2, 3, 4, 5]
console.log(arr2);

let obj1 = { a: 1, b: 2 };
let obj2 = { ...obj1, c: 3 }; // { a: 1, b: 2, c: 3 }
console.log(obj2);

// typeof é‹ç®—ç¬¦
console.log(typeof "hello");  // "string"
console.log(typeof 42);       // "number"
console.log(typeof true);     // "boolean"
console.log(typeof undefined);// "undefined"
console.log(typeof {});       // "object"
console.log(typeof []);       // "object"
console.log(typeof null);     // "object" (é€™æ˜¯ä¸€å€‹æ­·å²éºç•™çš„Bug)
console.log(typeof function(){}); // "function"

// instanceof é‹ç®—ç¬¦
console.log([] instanceof Array);  // true
console.log({} instanceof Object); // true
console.log("hello" instanceof String); // false (åŸå§‹å­—ç¬¦ä¸²ä¸æ˜¯Stringå°è±¡)
console.log(new String("hello") instanceof String); // true</textarea>
                        <button class="copy-button" onclick="copyCode('code-other-ops')">è¤‡è£½</button>
                    </div>
                    
                    <div class="tip">
                        åœ¨ JavaScript ä¸­ï¼Œé‹ç®—ç¬¦çš„å„ªå…ˆç´šæ±ºå®šäº†è¡¨é”å¼ä¸­é‹ç®—çš„åŸ·è¡Œé †åºã€‚æ‹¬è™Ÿ <code>()</code> å…·æœ‰æœ€é«˜å„ªå…ˆç´šï¼Œå¯ä»¥ç”¨ä¾†æ”¹è®Šé‹ç®—é †åºã€‚ä¾‹å¦‚ï¼š<code>2 + 3 * 4</code> ç­‰æ–¼ 14ï¼Œè€Œ <code>(2 + 3) * 4</code> ç­‰æ–¼ 20ã€‚
                    </div>
                </section>

                <section id="control-flow" class="section fade-in">
                    <h2>4. æ§åˆ¶æµç¨‹</h2>
                    <p>æ§åˆ¶æµç¨‹èªå¥å…è¨±æ‚¨åŸºæ–¼æŸäº›æ¢ä»¶åŸ·è¡Œä¸åŒçš„ä»£ç¢¼å¡Šï¼Œæˆ–è€…é‡è¤‡åŸ·è¡Œä»£ç¢¼å¡Šã€‚</p>
                    
                    <h3>4.1 æ¢ä»¶èªå¥</h3>
                    <div class="runnable-code">
                        <textarea class="code-editor" id="code-conditionals" readonly>// if èªå¥
let age = 18;

if (age >= 18) {
    console.log("æ‚¨å·²æˆå¹´");
}

// if...else èªå¥
let time = 14;

if (time < 12) {
    console.log("æ—©ä¸Šå¥½");
} else {
    console.log("ä¸‹åˆå¥½æˆ–æ™šä¸Šå¥½");
}

// if...else if...else èªå¥
let score = 85;

if (score >= 90) {
    console.log("å„ªç§€");
} else if (score >= 80) {
    console.log("è‰¯å¥½");
} else if (score >= 70) {
    console.log("ä¸­ç­‰");
} else if (score >= 60) {
    console.log("åŠæ ¼");
} else {
    console.log("ä¸åŠæ ¼");
}

// åµŒå¥— if èªå¥
let isWeekend = true;
let isRaining = false;

if (isWeekend) {
    if (!isRaining) {
        console.log("å¯ä»¥å‡ºå»ç©");
    } else {
        console.log("åœ¨å®¶çœ‹é›»å½±");
    }
} else {
    console.log("å·¥ä½œæ—¥ï¼Œè¦åŠªåŠ›å·¥ä½œ");
}</textarea>
                        <button class="copy-button" onclick="copyCode('code-conditionals')">è¤‡è£½</button>
                    </div>
                    
                    <h3>4.2 switch èªå¥</h3>
                    <p>switch èªå¥è©•ä¼°è¡¨é”å¼ï¼Œä¸¦æ ¹æ“šåŒ¹é…çš„å€¼åŸ·è¡Œå°æ‡‰çš„ä»£ç¢¼å¡Šã€‚</p>
                    
                    <div class="runnable-code">
                        <textarea class="code-editor" id="code-switch" readonly>let day = 3; // æ˜ŸæœŸä¸‰
let dayName;

switch (day) {
    case 1:
        dayName = "æ˜ŸæœŸä¸€";
        break;
    case 2:
        dayName = "æ˜ŸæœŸäºŒ";
        break;
    case 3:
        dayName = "æ˜ŸæœŸä¸‰";
        break;
    case 4:
        dayName = "æ˜ŸæœŸå››";
        break;
    case 5:
        dayName = "æ˜ŸæœŸäº”";
        break;
    case 6:
        dayName = "æ˜ŸæœŸå…­";
        break;
    case 0:
        dayName = "æ˜ŸæœŸæ—¥";
        break;
    default:
        dayName = "ç„¡æ•ˆæ—¥æœŸ";
}

console.log(dayName); // "æ˜ŸæœŸä¸‰"

// å¤šå€‹ case å…±äº«åŒä¸€ä»£ç¢¼å¡Š
let fruit = "è˜‹æœ";
let category;

switch (fruit) {
    case "è˜‹æœ":
    case "æ¢¨":
    case "æ¡ƒå­":
        category = "æ ¸æœé¡";
        break;
    case "é¦™è•‰":
    case "è è˜¿":
        category = "ç†±å¸¶æ°´æœ";
        break;
    default:
        category = "å…¶ä»–æ°´æœ";
}

console.log(category); // "æ ¸æœé¡"</textarea>
                        <button class="copy-button" onclick="copyCode('code-switch')">è¤‡è£½</button>
                    </div>
                    
                    <div class="warning">
                        åœ¨ switch èªå¥ä¸­ï¼Œä¸è¦å¿˜è¨˜ä½¿ç”¨ <code>break</code> èªå¥ã€‚å¦‚æœæ²’æœ‰ breakï¼Œä»£ç¢¼æœƒç¹¼çºŒåŸ·è¡Œä¸‹ä¸€å€‹ caseï¼Œå°è‡´å¯èƒ½å‡ºç¾æ„å¤–è¡Œç‚ºï¼Œé€™è¢«ç¨±ç‚º"ç©¿é€"ï¼ˆfallthroughï¼‰ã€‚
                    </div>
                    
                    <h3>4.3 å¾ªç’°èªå¥</h3>
                    <p>å¾ªç’°èªå¥å…è¨±æ‚¨å¤šæ¬¡åŸ·è¡Œä»£ç¢¼å¡Šã€‚</p>
                    
                    <h4>4.3.1 for å¾ªç’°</h4>
                    <div class="runnable-code">
                        <textarea class="code-editor" id="code-for-loop" readonly>// åŸºæœ¬ for å¾ªç’°
for (let i = 0; i < 5; i++) {
    console.log(`è¨ˆæ•¸ï¼š${i}`);
}

// éæ­·æ•¸çµ„
let fruits = ["è˜‹æœ", "é¦™è•‰", "æ©™å­", "è‘¡è„"];
for (let i = 0; i < fruits.length; i++) {
    console.log(`æ°´æœ ${i+1}: ${fruits[i]}`);
}

// for...in å¾ªç’°ï¼ˆç”¨æ–¼éæ­·å°è±¡å±¬æ€§ï¼‰
let person = {
    name: "å¼µä¸‰",
    age: 30,
    job: "å·¥ç¨‹å¸«"
};

for (let key in person) {
    console.log(`${key}: ${person[key]}`);
}

// for...of å¾ªç’°ï¼ˆES6ï¼Œç”¨æ–¼éæ­·å¯è¿­ä»£å°è±¡ï¼‰
let colors = ["ç´…", "ç¶ ", "è—"];
for (let color of colors) {
    console.log(`é¡è‰²: ${color}`);
}</textarea>
                        <button class="copy-button" onclick="copyCode('code-for-loop')">è¤‡è£½</button>
                    </div>
                    
                    <h4>4.3.2 while å’Œ do-while å¾ªç’°</h4>
                    <div class="runnable-code">
                        <textarea class="code-editor" id="code-while-loop" readonly>// while å¾ªç’°
let count = 0;
while (count < 5) {
    console.log(`while å¾ªç’°è¨ˆæ•¸: ${count}`);
    count++;
}

// do-while å¾ªç’°ï¼ˆè‡³å°‘åŸ·è¡Œä¸€æ¬¡ï¼‰
let num = 10;
do {
    console.log(`do-while å¾ªç’°è¨ˆæ•¸: ${num}`);
    num--;
} while (num > 5);

// ç„¡é™å¾ªç’°èˆ‡ break
let i = 0;
while (true) {
    console.log(`åŸ·è¡Œ ${i} æ¬¡`);
    i++;
    if (i >= 3) {
        break; // é€€å‡ºå¾ªç’°
    }
}</textarea>
                        <button class="copy-button" onclick="copyCode('code-while-loop')">è¤‡è£½</button>
                    </div>
                    
                    <h3>4.4 è·³è½‰èªå¥</h3>
                    <div class="runnable-code">
                        <textarea class="code-editor" id="code-jump" readonly>// break èªå¥ï¼šé€€å‡ºå¾ªç’°
for (let i = 0; i < 10; i++) {
    if (i === 5) {
        console.log("é‡åˆ° 5ï¼Œé€€å‡ºå¾ªç’°");
        break;
    }
    console.log(`æ•¸å­—: ${i}`);
}

// continue èªå¥ï¼šè·³éç•¶å‰è¿­ä»£
for (let i = 0; i < 5; i++) {
    if (i === 2) {
        console.log("è·³é 2");
        continue;
    }
    console.log(`æ•¸å­—: ${i}`);
}

// æ¨™è¨˜èªå¥èˆ‡ break/continue
outerLoop: for (let i = 0; i < 3; i++) {
    console.log(`å¤–å±¤å¾ªç’° ${i}`);
    
    innerLoop: for (let j = 0; j < 3; j++) {
        if (i === 1 && j === 1) {
            console.log("è·³å‡ºå¤–å±¤å¾ªç’°");
            break outerLoop;
        }
        console.log(`  å…§å±¤å¾ªç’° ${j}`);
    }
}</textarea>
                        <button class="copy-button" onclick="copyCode('code-jump')">è¤‡è£½</button>
                    </div>
                    
                    <div class="tip">
                        åœ¨è™•ç†è¤‡é›œçš„æ§åˆ¶æµç¨‹æ™‚ï¼Œå»ºè­°ä¿æŒä»£ç¢¼ç°¡æ½”æ˜“è®€ã€‚éåº¦åµŒå¥—çš„æ¢ä»¶å’Œå¾ªç’°å¯èƒ½å°è‡´ä»£ç¢¼é›£ä»¥ç†è§£å’Œç¶­è­·ã€‚è€ƒæ…®ä½¿ç”¨æå‰è¿”å›æˆ–åˆ†è§£è¤‡é›œé‚è¼¯ç‚ºæ›´å°çš„å‡½æ•¸ã€‚
                    </div>
                    
                    <h3>4.5 éŒ¯èª¤è™•ç†</h3>
                    <div class="runnable-code">
                        <textarea class="code-editor" id="code-error-handling" readonly>// try...catch èªå¥
try {
    // å˜—è©¦åŸ·è¡Œçš„ä»£ç¢¼
    let result = undefinedVariable * 2; // æœƒæ‹‹å‡ºéŒ¯èª¤ï¼Œå› ç‚ºè®Šé‡æœªå®šç¾©
    console.log(result); // é€™è¡Œä¸æœƒåŸ·è¡Œ
} catch (error) {
    // è™•ç†éŒ¯èª¤
    console.log("ç™¼ç”ŸéŒ¯èª¤:", error.message);
}

// try...catch...finally èªå¥
try {
    console.log("å˜—è©¦åŸ·è¡Œ");
    throw new Error("è‡ªå®šç¾©éŒ¯èª¤"); // ä¸»å‹•æ‹‹å‡ºéŒ¯èª¤
} catch (error) {
    console.log("æ•ç²éŒ¯èª¤:", error.message);
} finally {
    console.log("ç„¡è«–å¦‚ä½•éƒ½æœƒåŸ·è¡Œ");
}

// æ•ç²ç‰¹å®šé¡å‹çš„éŒ¯èª¤
try {
    let obj = null;
    console.log(obj.property); // æœƒæ‹‹å‡º TypeError
} catch (error) {
    if (error instanceof TypeError) {
        console.log("é¡å‹éŒ¯èª¤:", error.message);
    } else {
        console.log("å…¶ä»–éŒ¯èª¤:", error.message);
    }
}</textarea>
                        <button class="copy-button" onclick="copyCode('code-error-handling')">è¤‡è£½</button>
                    </div>
                </section>

                <section id="functions" class="section fade-in">
                    <h2>5. å‡½æ•¸</h2>
                    <p>å‡½æ•¸æ˜¯ JavaScript ä¸­çš„åŸºæœ¬æ§‹å»ºå¡Šï¼Œå®ƒå€‘å…è¨±æ‚¨å°‡ä»£ç¢¼å°è£ç‚ºå¯é‡ç”¨çš„å–®å…ƒã€‚</p>
                    
                    <h3>5.1 å‡½æ•¸å®£å‘Šèˆ‡è¡¨é”å¼</h3>
                    <div class="runnable-code">
                        <textarea class="code-editor" id="code-function-basics" readonly>// å‡½æ•¸å®£å‘Š
function greet(name) {
    return `ä½ å¥½ï¼Œ${name}ï¼`;
}

console.log(greet("å°æ˜")); // "ä½ å¥½ï¼Œå°æ˜ï¼"

// å‡½æ•¸è¡¨é”å¼
const sayHello = function(name) {
    return `Hello, ${name}!`;
};

console.log(sayHello("Tom")); // "Hello, Tom!"

// ç®­é ­å‡½æ•¸ (ES6)
const sayHi = (name) => {
    return `Hi, ${name}!`;
};

// ç°¡åŒ–çš„ç®­é ­å‡½æ•¸ï¼ˆå–®ä¸€è¡¨é”å¼ï¼‰
const square = x => x * x;
console.log(square(5)); // 25

// ç®­é ­å‡½æ•¸èˆ‡éš±å¼è¿”å›
const add = (a, b) => a + b;
console.log(add(3, 4)); // 7</textarea>
                        <button class="copy-button" onclick="copyCode('code-function-basics')">è¤‡è£½</button>
                    </div>
                    
                    <div class="example">
                        <div class="example-title">å‡½æ•¸å®£å‘Šèˆ‡å‡½æ•¸è¡¨é”å¼çš„å€åˆ¥ï¼š</div>
                        <ul>
                            <li>å‡½æ•¸å®£å‘Šæœƒè¢«æå‡åˆ°ç•¶å‰ä½œç”¨åŸŸçš„é ‚éƒ¨ï¼Œå› æ­¤å¯ä»¥åœ¨å®£å‘Šä¹‹å‰èª¿ç”¨</li>
                            <li>å‡½æ•¸è¡¨é”å¼ä¸æœƒè¢«æå‡ï¼Œå¿…é ˆåœ¨å®£å‘Šå¾Œæ‰èƒ½èª¿ç”¨</li>
                            <li>ç®­é ­å‡½æ•¸æ˜¯å‡½æ•¸è¡¨é”å¼çš„ç°¡æ½”å½¢å¼ï¼Œä¸¦ä¸”æœ‰ç‰¹æ®Šçš„thisç¶å®šè¡Œç‚º</li>
                        </ul>
                    </div>
                    
                    <h3>5.2 å‡½æ•¸åƒæ•¸</h3>
                    <div class="runnable-code">
                        <textarea class="code-editor" id="code-function-parameters" readonly>// é»˜èªåƒæ•¸ (ES6)
function greet(name = "è¨ªå®¢") {
    return `ä½ å¥½ï¼Œ${name}ï¼`;
}

console.log(greet()); // "ä½ å¥½ï¼Œè¨ªå®¢ï¼"
console.log(greet("å°ç´…")); // "ä½ å¥½ï¼Œå°ç´…ï¼"

// å‰©é¤˜åƒæ•¸ (ES6)
function sum(...numbers) {
    return numbers.reduce((total, num) => total + num, 0);
}

console.log(sum(1, 2, 3, 4, 5)); // 15

// çµåˆæ™®é€šåƒæ•¸å’Œå‰©é¤˜åƒæ•¸
function teamMember(leader, assistant, ...members) {
    console.log(`åœ˜éšŠé ˜å°: ${leader}`);
    console.log(`åŠ©ç†: ${assistant}`);
    console.log(`åœ˜éšŠæˆå“¡: ${members.join(', ')}`);
}

teamMember("å¼µä¸‰", "æå››", "ç‹äº”", "è¶™å…­", "å­«ä¸ƒ");

// åƒæ•¸è§£æ§‹ (ES6)
function displayPerson({ name, age, job = "æœªçŸ¥" }) {
    console.log(`å§“å: ${name}, å¹´é½¡: ${age}, è·æ¥­: ${job}`);
}

displayPerson({ name: "ç‹å°æ˜", age: 28, job: "å·¥ç¨‹å¸«" });
displayPerson({ name: "æå°ç´…", age: 24 }); // ä½¿ç”¨é»˜èªè·æ¥­</textarea>
                        <button class="copy-button" onclick="copyCode('code-function-parameters')">è¤‡è£½</button>
                    </div>
                    
                    <h3>5.3 å‡½æ•¸ä½œç”¨åŸŸèˆ‡é–‰åŒ…</h3>
                    <div class="runnable-code">
                        <textarea class="code-editor" id="code-closures" readonly>// å…¨å±€èˆ‡å±€éƒ¨ä½œç”¨åŸŸ
let globalVar = "æˆ‘æ˜¯å…¨å±€è®Šé‡";

function showScope() {
    let localVar = "æˆ‘æ˜¯å±€éƒ¨è®Šé‡";
    console.log(globalVar); // å¯ä»¥è¨ªå•å…¨å±€è®Šé‡
    console.log(localVar);  // å¯ä»¥è¨ªå•å±€éƒ¨è®Šé‡
}

showScope();
console.log(globalVar); // å¯ä»¥è¨ªå•å…¨å±€è®Šé‡
// console.log(localVar);  // éŒ¯èª¤ï¼šç„¡æ³•è¨ªå•å‡½æ•¸å…§çš„å±€éƒ¨è®Šé‡

// é–‰åŒ…ï¼šå‡½æ•¸å¯ä»¥è¨ªå•å…¶å¤–éƒ¨å‡½æ•¸çš„è®Šé‡
function createCounter() {
    let count = 0; // ç§æœ‰è®Šé‡
    
    return function() {
        count++;
        return count;
    };
}

const counter = createCounter();
console.log(counter()); // 1
console.log(counter()); // 2
console.log(counter()); // 3

// é–‰åŒ…å¯¦éš›æ‡‰ç”¨ï¼šå‰µå»ºç§æœ‰è®Šé‡
function createPerson(name) {
    // ç§æœ‰è®Šé‡
    let _age = 0;
    
    return {
        getName: function() {
            return name;
        },
        getAge: function() {
            return _age;
        },
        setAge: function(age) {
            if (age < 0 || age > 120) {
                console.log("å¹´é½¡ç¯„åœç„¡æ•ˆ");
                return;
            }
            _age = age;
        }
    };
}

const person = createPerson("ç‹æ˜");
console.log(person.getName()); // "ç‹æ˜"
person.setAge(30);
console.log(person.getAge()); // 30
// console.log(person._age); // undefinedï¼Œç„¡æ³•ç›´æ¥è¨ªå•ç§æœ‰è®Šé‡</textarea>
                        <button class="copy-button" onclick="copyCode('code-closures')">è¤‡è£½</button>
                    </div>
                    
                    <div class="tip">
                        é–‰åŒ…æ˜¯ JavaScript ä¸­çš„å¼·å¤§ç‰¹æ€§ï¼Œå®ƒå…è¨±å‡½æ•¸è¨˜ä½ä¸¦è¨ªå•å…¶è©æ³•ä½œç”¨åŸŸï¼Œå³ä½¿è©²å‡½æ•¸åœ¨å…¶åŸå§‹ä½œç”¨åŸŸä¹‹å¤–åŸ·è¡Œã€‚é€™ä½¿å¾—å‰µå»ºç§æœ‰è®Šé‡ã€æ•¸æ“šå°è£å’Œæ¨¡å¡Šæ¨¡å¼æˆç‚ºå¯èƒ½ã€‚
                    </div>
                    
                    <h3>5.4 this é—œéµå­—</h3>
                    <div class="runnable-code">
                        <textarea class="code-editor" id="code-this" readonly>// this åœ¨å…¨å±€ä¸Šä¸‹æ–‡ä¸­
console.log(this); // åœ¨ç€è¦½å™¨ä¸­æ˜¯ window å°è±¡ï¼Œåœ¨ Node.js ä¸­æ˜¯ global å°è±¡

// this åœ¨å°è±¡æ–¹æ³•ä¸­æŒ‡å‘è©²å°è±¡
const person = {
    name: "å°æ˜",
    greet: function() {
        return `ä½ å¥½ï¼Œæˆ‘æ˜¯ ${this.name}`;
    }
};

console.log(person.greet()); // "ä½ å¥½ï¼Œæˆ‘æ˜¯ å°æ˜"

// å‡½æ•¸ä¸­çš„ this å–æ±ºæ–¼èª¿ç”¨æ–¹å¼
function showThis() {
    console.log(this);
}

showThis(); // åœ¨ç€è¦½å™¨ä¸­æ˜¯ windowï¼Œåœ¨åš´æ ¼æ¨¡å¼æˆ– Node.js ä¸­æ˜¯ undefined

// é€šé call, apply, bind ä¿®æ”¹ this
const person1 = { name: "å°æ˜" };
const person2 = { name: "å°ç´…" };

function introduce(city, hobby) {
    return `æˆ‘æ˜¯ ${this.name}ï¼Œä¾†è‡ª ${city}ï¼Œå–œæ­¡ ${hobby}ã€‚`;
}

// call: ç¬¬ä¸€å€‹åƒæ•¸æ˜¯ this çš„å€¼ï¼Œå¾ŒçºŒåƒæ•¸ä¾æ¬¡å‚³å…¥
console.log(introduce.call(person1, "åŒ—äº¬", "æ¸¸æ³³"));

// apply: ç¬¬ä¸€å€‹åƒæ•¸æ˜¯ this çš„å€¼ï¼Œç¬¬äºŒå€‹åƒæ•¸æ˜¯åƒæ•¸æ•¸çµ„
console.log(introduce.apply(person2, ["ä¸Šæµ·", "é–±è®€"]));

// bind: å‰µå»ºä¸€å€‹æ–°å‡½æ•¸ï¼Œæ°¸ä¹…ç¶å®š this å€¼
const introducePerson1 = introduce.bind(person1);
console.log(introducePerson1("å»£å·", "ç•«ç•«")); // this å§‹çµ‚æ˜¯ person1

// ç®­é ­å‡½æ•¸ä¸­çš„ this
const obj = {
    name: "å°è±¡",
    regularFunc: function() {
        console.log("æ™®é€šå‡½æ•¸ä¸­çš„ this:", this.name);
        
        // ç®­é ­å‡½æ•¸ä¸­çš„ this ç¹¼æ‰¿è‡ªå¤–å±¤ä½œç”¨åŸŸ
        const arrowFunc = () => {
            console.log("ç®­é ­å‡½æ•¸ä¸­çš„ this:", this.name);
        };
        
        arrowFunc();
    }
};

obj.regularFunc();</textarea>
                        <button class="copy-button" onclick="copyCode('code-this')">è¤‡è£½</button>
                    </div>
                    
                    <div class="warning">
                        ç†è§£ <code>this</code> é—œéµå­—æ˜¯ JavaScript ä¸­çš„ä¸€å€‹å¸¸è¦‹æŒ‘æˆ°ã€‚è¨˜ä½ï¼Œ<code>this</code> çš„å€¼å–æ±ºæ–¼å‡½æ•¸çš„èª¿ç”¨æ–¹å¼ï¼Œè€Œä¸æ˜¯å®šç¾©æ–¹å¼ã€‚ç®­é ­å‡½æ•¸æ˜¯å€‹ä¾‹å¤–ï¼Œå®ƒçš„ <code>this</code> å€¼æ˜¯è©æ³•ç¶å®šçš„ï¼Œç¹¼æ‰¿è‡ªå¤–å±¤ä½œç”¨åŸŸã€‚
                    </div>
                    
                    <h3>5.5 é«˜éšå‡½æ•¸</h3>
                    <p>é«˜éšå‡½æ•¸æ˜¯æ¥å—å…¶ä»–å‡½æ•¸ä½œç‚ºåƒæ•¸æˆ–è¿”å›å‡½æ•¸çš„å‡½æ•¸ã€‚</p>
                    
                    <div class="runnable-code">
                        <textarea class="code-editor" id="code-higher-order" readonly>// å‡½æ•¸ä½œç‚ºåƒæ•¸
function calculate(x, y, operation) {
    return operation(x, y);
}

// å®šç¾©ä¸åŒçš„æ“ä½œå‡½æ•¸
const add = (a, b) => a + b;
const subtract = (a, b) => a - b;
const multiply = (a, b) => a * b;

console.log(calculate(10, 5, add));      // 15
console.log(calculate(10, 5, subtract)); // 5
console.log(calculate(10, 5, multiply)); // 50

// å‡½æ•¸ä½œç‚ºè¿”å›å€¼
function multiplier(factor) {
    // è¿”å›ä¸€å€‹æ–°å‡½æ•¸
    return function(number) {
        return number * factor;
    };
}

const double = multiplier(2);
const triple = multiplier(3);

console.log(double(5)); // 10
console.log(triple(5)); // 15

// å¯¦éš›æ‡‰ç”¨ï¼šæ•¸çµ„æ–¹æ³•
const numbers = [1, 2, 3, 4, 5];

// map: è½‰æ›æ•¸çµ„ä¸­çš„æ¯å€‹å…ƒç´ 
const doubled = numbers.map(x => x * 2);
console.log(doubled); // [2, 4, 6, 8, 10]

// filter: éæ¿¾æ•¸çµ„å…ƒç´ 
const evens = numbers.filter(x => x % 2 === 0);
console.log(evens); // [2, 4]

// reduce: å°‡æ•¸çµ„ç°¡åŒ–ç‚ºå–®ä¸€å€¼
const sum = numbers.reduce((total, current) => total + current, 0);
console.log(sum); // 15

// çµ„åˆä½¿ç”¨
const result = numbers
    .filter(x => x > 2)        // éæ¿¾å¤§æ–¼2çš„æ•¸ [3, 4, 5]
    .map(x => x * x)           // å°æ¯å€‹æ•¸å¹³æ–¹ [9, 16, 25]
    .reduce((sum, x) => sum + x, 0); // æ±‚å’Œ

console.log(result); // 50</textarea>
                        <button class="copy-button" onclick="copyCode('code-higher-order')">è¤‡è£½</button>
                    </div>
                    
                    <h3>5.6 IIFEï¼ˆç«‹å³èª¿ç”¨å‡½æ•¸è¡¨é”å¼ï¼‰</h3>
                    <div class="runnable-code">
                        <textarea class="code-editor" id="code-iife" readonly>// IIFE åŸºæœ¬èªæ³•
(function() {
    let privateVar = "æˆ‘æ˜¯ç§æœ‰è®Šé‡";
    console.log(privateVar);
})();

// å¸¶åƒæ•¸çš„ IIFE
(function(name) {
    console.log(`ä½ å¥½ï¼Œ${name}ï¼`);
})("å°æ˜");

// å¸¶è¿”å›å€¼çš„ IIFE
const result = (function() {
    const a = 5;
    const b = 10;
    return a + b;
})();

console.log(result); // 15

// æ¨¡å¡Šæ¨¡å¼
const counter = (function() {
    let count = 0; // ç§æœ‰è®Šé‡
    
    return {
        increment: function() {
            count++;
            return count;
        },
        decrement: function() {
            count--;
            return count;
        },
        getCount: function() {
            return count;
        }
    };
})();

console.log(counter.increment()); // 1
console.log(counter.increment()); // 2
console.log(counter.decrement()); // 1
console.log(counter.getCount());  // 1</textarea>
                        <button class="copy-button" onclick="copyCode('code-iife')">è¤‡è£½</button>
                    </div>
                    
                    <div class="tip">
                        IIFE å¯ä»¥å‰µå»ºä¸€å€‹ç¨ç«‹çš„ä½œç”¨åŸŸï¼Œé¿å…è®Šé‡æ±¡æŸ“å…¨å±€å‘½åç©ºé–“ã€‚åœ¨ ES6 æ¨¡å¡Šæˆç‚ºæ¨™æº–ä¹‹å‰ï¼ŒIIFE æ˜¯å¯¦ç¾æ¨¡å¡ŠåŒ–çš„å¸¸ç”¨æ–¹å¼ã€‚
                    </div>
                </section>

                <section id="arrays" class="section fade-in">
                    <h2>6. é™£åˆ—</h2>
                    <p>é™£åˆ—æ˜¯ JavaScript ä¸­ç”¨æ–¼å­˜å„²æœ‰åºæ•¸æ“šé›†åˆçš„å°è±¡ã€‚</p>
                    
                    <h3>6.1 é™£åˆ—å‰µå»ºèˆ‡è¨ªå•</h3>
                    <div class="runnable-code">
                        <textarea class="code-editor" id="code-array-basics" readonly>// å‰µå»ºé™£åˆ—
let fruits = ["è˜‹æœ", "é¦™è•‰", "æ©™å­"];
console.log(fruits); // ["è˜‹æœ", "é¦™è•‰", "æ©™å­"]

// ä½¿ç”¨ Array æ§‹é€ å‡½æ•¸
let numbers = new Array(1, 2, 3, 4, 5);
console.log(numbers); // [1, 2, 3, 4, 5]

// å‰µå»ºç‰¹å®šé•·åº¦çš„ç©ºé™£åˆ—
let emptyArray = new Array(5); // å‰µå»ºé•·åº¦ç‚º5çš„ç©ºé™£åˆ—
console.log(emptyArray); // [empty Ã— 5]

// ä½¿ç”¨ Array.of() æ–¹æ³• (ES6)
let digits = Array.of(1, 2, 3, 4, 5);
console.log(digits); // [1, 2, 3, 4, 5]

// ä½¿ç”¨ Array.from() å°‡é¡é™£åˆ—å°è±¡è½‰æ›ç‚ºé™£åˆ— (ES6)
let str = "hello";
let chars = Array.from(str);
console.log(chars); // ["h", "e", "l", "l", "o"]

// é™£åˆ—è¨ªå•
console.log(fruits[0]); // "è˜‹æœ"
console.log(fruits[1]); // "é¦™è•‰"
console.log(fruits[2]); // "æ©™å­"
console.log(fruits[3]); // undefinedï¼ˆè¶…å‡ºç¯„åœï¼‰

// ä¿®æ”¹é™£åˆ—å…ƒç´ 
fruits[1] = "è‘¡è„";
console.log(fruits); // ["è˜‹æœ", "è‘¡è„", "æ©™å­"]

// é™£åˆ—é•·åº¦
console.log(fruits.length); // 3

// ä¿®æ”¹é•·åº¦
fruits.length = 2;
console.log(fruits); // ["è˜‹æœ", "è‘¡è„"]ï¼ˆæˆªæ–·é™£åˆ—ï¼‰

fruits.length = 4;
console.log(fruits); // ["è˜‹æœ", "è‘¡è„", empty Ã— 2]ï¼ˆå»¶é•·é™£åˆ—ï¼Œæ–°å…ƒç´ ç‚ºç©ºï¼‰</textarea>
                        <button class="copy-button" onclick="copyCode('code-array-basics')">è¤‡è£½</button>
                    </div>
                    
                    <h3>6.2 é™£åˆ—æ–¹æ³• - æ·»åŠ å’Œç§»é™¤å…ƒç´ </h3>
                    <div class="runnable-code">
                        <textarea class="code-editor" id="code-array-add-remove" readonly>let fruits = ["è˜‹æœ", "é¦™è•‰", "æ©™å­"];

// æœ«å°¾æ·»åŠ å…ƒç´ 
fruits.push("è‘¡è„");
console.log(fruits); // ["è˜‹æœ", "é¦™è•‰", "æ©™å­", "è‘¡è„"]

// æœ«å°¾ç§»é™¤å…ƒç´ 
let lastFruit = fruits.pop();
console.log(lastFruit); // "è‘¡è„"
console.log(fruits); // ["è˜‹æœ", "é¦™è•‰", "æ©™å­"]

// é–‹é ­æ·»åŠ å…ƒç´ 
fruits.unshift("è‰è“");
console.log(fruits); // ["è‰è“", "è˜‹æœ", "é¦™è•‰", "æ©™å­"]

// é–‹é ­ç§»é™¤å…ƒç´ 
let firstFruit = fruits.shift();
console.log(firstFruit); // "è‰è“"
console.log(fruits); // ["è˜‹æœ", "é¦™è•‰", "æ©™å­"]

// splice: æ·»åŠ ã€åˆªé™¤æˆ–æ›¿æ›å…ƒç´ 
// åƒæ•¸: èµ·å§‹ç´¢å¼•, åˆªé™¤æ•¸é‡, è¦æ·»åŠ çš„å…ƒç´ ...

// åœ¨ç´¢å¼•1è™•æ’å…¥
fruits.splice(1, 0, "æª¸æª¬", "èŠ’æœ");
console.log(fruits); // ["è˜‹æœ", "æª¸æª¬", "èŠ’æœ", "é¦™è•‰", "æ©™å­"]

// åˆªé™¤ç´¢å¼•2é–‹å§‹çš„2å€‹å…ƒç´ 
let removed = fruits.splice(2, 2);
console.log(removed); // ["èŠ’æœ", "é¦™è•‰"]
console.log(fruits); // ["è˜‹æœ", "æª¸æª¬", "æ©™å­"]

// æ›¿æ›ç´¢å¼•1è™•çš„å…ƒç´ 
fruits.splice(1, 1, "è‘¡è„");
console.log(fruits); // ["è˜‹æœ", "è‘¡è„", "æ©™å­"]

// åˆªé™¤æœ«å°¾å…ƒç´ çš„å¦ä¸€ç¨®æ–¹å¼
fruits.length = fruits.length - 1;
console.log(fruits); // ["è˜‹æœ", "è‘¡è„"]</textarea>
                        <button class="copy-button" onclick="copyCode('code-array-add-remove')">è¤‡è£½</button>
                    </div>
                    
                    <h3>6.3 é™£åˆ—æ–¹æ³• - æŸ¥æ‰¾èˆ‡æ’åº</h3>
                    <div class="runnable-code">
                        <textarea class="code-editor" id="code-array-search-sort" readonly>let fruits = ["è˜‹æœ", "é¦™è•‰", "æ©™å­", "è˜‹æœ", "èŠ’æœ"];
let numbers = [10, 5, 8, 20, 3];

// indexOf: æŸ¥æ‰¾å…ƒç´ é¦–æ¬¡å‡ºç¾çš„ç´¢å¼•
console.log(fruits.indexOf("è˜‹æœ")); // 0
console.log(fruits.indexOf("èŠ’æœ")); // 4
console.log(fruits.indexOf("è¥¿ç“œ")); // -1ï¼ˆæœªæ‰¾åˆ°ï¼‰

// lastIndexOf: æŸ¥æ‰¾å…ƒç´ æœ€å¾Œå‡ºç¾çš„ç´¢å¼•
console.log(fruits.lastIndexOf("è˜‹æœ")); // 3

// includes: æª¢æŸ¥æ•¸çµ„æ˜¯å¦åŒ…å«ç‰¹å®šå…ƒç´  (ES7)
console.log(fruits.includes("é¦™è•‰")); // true
console.log(fruits.includes("è¥¿ç“œ")); // false

// find: è¿”å›ç¬¦åˆæ¢ä»¶çš„ç¬¬ä¸€å€‹å…ƒç´  (ES6)
let foundNumber = numbers.find(num => num > 15);
console.log(foundNumber); // 20

// findIndex: è¿”å›ç¬¦åˆæ¢ä»¶çš„ç¬¬ä¸€å€‹å…ƒç´ çš„ç´¢å¼• (ES6)
let foundIndex = numbers.findIndex(num => num > 15);
console.log(foundIndex); // 3

// filter: è¿”å›æ‰€æœ‰ç¬¦åˆæ¢ä»¶çš„å…ƒç´ 
let largeNumbers = numbers.filter(num => num > 8);
console.log(largeNumbers); // [10, 20]

// sort: æ’åºæ•¸çµ„ï¼ˆé»˜èªæŒ‰å­—æ¯é †åºï¼‰
fruits.sort();
console.log(fruits); // ["èŠ’æœ", "æ©™å­", "è˜‹æœ", "è˜‹æœ", "é¦™è•‰"]

// æ•¸å­—æ’åºéœ€è¦æ¯”è¼ƒå‡½æ•¸
numbers.sort((a, b) => a - b); // å‡åº
console.log(numbers); // [3, 5, 8, 10, 20]

numbers.sort((a, b) => b - a); // é™åº
console.log(numbers); // [20, 10, 8, 5, 3]

// reverse: åè½‰æ•¸çµ„
fruits.reverse();
console.log(fruits); // ["é¦™è•‰", "è˜‹æœ", "è˜‹æœ", "æ©™å­", "èŠ’æœ"]</textarea>
                        <button class="copy-button" onclick="copyCode('code-array-search-sort')">è¤‡è£½</button>
                    </div>
                    
                    <h3>6.4 é™£åˆ—æ–¹æ³• - è½‰æ›èˆ‡è¿­ä»£</h3>
                    <div class="runnable-code">
                        <textarea class="code-editor" id="code-array-transform" readonly>let numbers = [1, 2, 3, 4, 5];

// map: è½‰æ›æ¯å€‹å…ƒç´ ä¸¦è¿”å›æ–°é™£åˆ—
let squared = numbers.map(x => x * x);
console.log(squared); // [1, 4, 9, 16, 25]

// reduce: å°‡é™£åˆ—ç°¡åŒ–ç‚ºå–®ä¸€å€¼
let sum = numbers.reduce((total, current) => total + current, 0);
console.log(sum); // 15

let product = numbers.reduce((total, current) => total * current, 1);
console.log(product); // 120

// reduceRight: å¾å³åˆ°å·¦ç°¡åŒ–
let result = ["a", "b", "c"].reduceRight((acc, curr) => acc + curr, "");
console.log(result); // "cba"

// forEach: éæ­·æ¯å€‹å…ƒç´ 
numbers.forEach((number, index) => {
    console.log(`ç´¢å¼• ${index}: ${number}`);
});

// every: æª¢æŸ¥æ‰€æœ‰å…ƒç´ æ˜¯å¦æ»¿è¶³æ¢ä»¶
let allPositive = numbers.every(num => num > 0);
console.log(allPositive); // true

let allEven = numbers.every(num => num % 2 === 0);
console.log(allEven); // false

// some: æª¢æŸ¥æ˜¯å¦è‡³å°‘æœ‰ä¸€å€‹å…ƒç´ æ»¿è¶³æ¢ä»¶
let someEven = numbers.some(num => num % 2 === 0);
console.log(someEven); // true

// join: å°‡é™£åˆ—å…ƒç´ é€£æ¥ç‚ºå­—ç¬¦ä¸²
let joinedString = numbers.join(", ");
console.log(joinedString); // "1, 2, 3, 4, 5"

// flat: æ‰å¹³åŒ–åµŒå¥—é™£åˆ— (ES2019)
let nestedArray = [1, [2, [3, 4]], 5];
let flattened = nestedArray.flat(2); // æ·±åº¦ç‚º2
console.log(flattened); // [1, 2, 3, 4, 5]

// flatMap: çµåˆ map å’Œ flat (ES2019)
let sentences = ["Hello world", "JavaScript is fun"];
let words = sentences.flatMap(sentence => sentence.split(" "));
console.log(words); // ["Hello", "world", "JavaScript", "is", "fun"]</textarea>
                        <button class="copy-button" onclick="copyCode('code-array-transform')">è¤‡è£½</button>
                    </div>
                    
                    <h3>6.5 é™£åˆ—æ–¹æ³• - è¤‡è£½èˆ‡åˆä½µ</h3>
                    <div class="runnable-code">
                        <textarea class="code-editor" id="code-array-copy-merge" readonly>// è¤‡è£½æ•¸çµ„
let original = [1, 2, 3];

// ä½¿ç”¨å±•é–‹é‹ç®—ç¬¦ (ES6)
let copy1 = [...original];
console.log(copy1); // [1, 2, 3]

// ä½¿ç”¨ slice()
let copy2 = original.slice();
console.log(copy2); // [1, 2, 3]

// ä½¿ç”¨ Array.from() (ES6)
let copy3 = Array.from(original);
console.log(copy3); // [1, 2, 3]

// åˆä½µæ•¸çµ„
let array1 = [1, 2, 3];
let array2 = [4, 5, 6];

// ä½¿ç”¨å±•é–‹é‹ç®—ç¬¦ (ES6)
let merged1 = [...array1, ...array2];
console.log(merged1); // [1, 2, 3, 4, 5, 6]

// ä½¿ç”¨ concat()
let merged2 = array1.concat(array2);
console.log(merged2); // [1, 2, 3, 4, 5, 6]

// è¤‡è£½éƒ¨åˆ†æ•¸çµ„
let subset = original.slice(1, 3); // å¾ç´¢å¼•1é–‹å§‹ï¼Œä¸åŒ…æ‹¬ç´¢å¼•3
console.log(subset); // [2, 3]

// å¤šç¶­æ•¸çµ„çš„æ·ºæ‹·è²å•é¡Œ
let nested = [1, [2, 3], {a: 4}];
let shallowCopy = [...nested];

// ä¿®æ”¹åŸæ•¸çµ„ä¸­çš„åµŒå¥—å°è±¡
nested[1][0] = 99;
nested[2].a = 100;

// æ·ºæ‹·è²ä¸­çš„åµŒå¥—å°è±¡ä¹Ÿè¢«ä¿®æ”¹
console.log(shallowCopy); // [1, [99, 3], {a: 100}]

// æ·±æ‹·è²ï¼ˆJSONæ–¹æ³•ï¼Œåƒ…é©ç”¨æ–¼å¯åºåˆ—åŒ–çš„æ•¸æ“šï¼‰
let deepCopy = JSON.parse(JSON.stringify(nested));
nested[1][1] = 88;
console.log(deepCopy); // [1, [99, 3], {a: 100}] - ä¸å—å½±éŸ¿</textarea>
                        <button class="copy-button" onclick="copyCode('code-array-copy-merge')">è¤‡è£½</button>
                    </div>
                    
                    <div class="tip">
                        é™£åˆ—æ˜¯ JavaScript ä¸­æœ€å¸¸ç”¨çš„æ•¸æ“šçµæ§‹ä¹‹ä¸€ã€‚æŒæ¡é™£åˆ—æ–¹æ³•å¯ä»¥è®“æ‚¨ä»¥ç°¡æ½”çš„æ–¹å¼è§£æ±ºè¨±å¤šç·¨ç¨‹å•é¡Œã€‚ç‰¹åˆ¥æ˜¯é«˜éšé™£åˆ—æ–¹æ³•ï¼ˆå¦‚ map, filter, reduceï¼‰çµåˆå‡½æ•¸å¼ç·¨ç¨‹æ€æƒ³ï¼Œèƒ½å¤ å¯«å‡ºæ›´åŠ ç°¡æ½”ã€å¯è®€å’Œæ˜“æ–¼ç¶­è­·çš„ä»£ç¢¼ã€‚
                    </div>
                    
                    <h3>6.6 é¡é™£åˆ—å°è±¡</h3>
                    <div class="runnable-code">
                        <textarea class="code-editor" id="code-array-like" readonly>// é¡é™£åˆ—å°è±¡æ˜¯æœ‰ç´¢å¼•å’Œé•·åº¦å±¬æ€§ä½†ä¸æ˜¯çœŸæ­£é™£åˆ—çš„å°è±¡
// å¸¸è¦‹çš„é¡é™£åˆ—å°è±¡åŒ…æ‹¬ï¼šDOM NodeListã€å‡½æ•¸ä¸­çš„ arguments å°è±¡ç­‰

function demoArrayLike() {
    console.log(arguments); // Arguments å°è±¡
    console.log(arguments.length); // åƒæ•¸æ•¸é‡
    console.log(arguments[0]); // ç¬¬ä¸€å€‹åƒæ•¸
    
    // é¡é™£åˆ—å°è±¡æ²’æœ‰é™£åˆ—æ–¹æ³•
    // arguments.forEach(arg => console.log(arg)); // éŒ¯èª¤ï¼
    
    // å°‡é¡é™£åˆ—å°è±¡è½‰æ›ç‚ºçœŸæ­£çš„é™£åˆ—
    
    // æ–¹æ³•1ï¼šArray.from() (ES6)
    let argsArray1 = Array.from(arguments);
    
    // æ–¹æ³•2ï¼šå±•é–‹é‹ç®—ç¬¦ (ES6)
    let argsArray2 = [...arguments];
    
    // æ–¹æ³•3ï¼šArray.prototype.slice.call()
    let argsArray3 = Array.prototype.slice.call(arguments);
    
    // ç¾åœ¨å¯ä»¥ä½¿ç”¨é™£åˆ—æ–¹æ³•
    argsArray1.forEach(arg => console.log(`åƒæ•¸å€¼: ${arg}`));
}

demoArrayLike("a", "b", "c");</textarea>
                        <button class="copy-button" onclick="copyCode('code-array-like')">è¤‡è£½</button>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; 2025 ç¨‹å¼èªè¨€ç™¾ç§‘å¹³å°ã€‚ä¿ç•™æ‰€æœ‰æ¬Šåˆ©ã€‚</p>
    </footer>
    
    <script>
        // ä¸»é¡Œåˆ‡æ›åŠŸèƒ½
        document.addEventListener('DOMContentLoaded', function() {
            // åˆå§‹åŒ–ä¸»é¡Œ
            const themeToggle = document.getElementById('theme-toggle');
            const htmlElement = document.documentElement;
            
            // æª¢æŸ¥æ˜¯å¦æœ‰ä¿å­˜çš„ä¸»é¡Œåå¥½
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme) {
                htmlElement.setAttribute('data-theme', savedTheme);
            }
            
            themeToggle.addEventListener('click', function() {
                const currentTheme = htmlElement.getAttribute('data-theme');
                const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                
                htmlElement.setAttribute('data-theme', newTheme);
                localStorage.setItem('theme', newTheme);
            });
            
            // ä»£ç¢¼è¤‡è£½åŠŸèƒ½
            window.copyCode = function(id) {
                const codeElement = document.getElementById(id);
                const codeText = codeElement.value || codeElement.textContent;
                
                navigator.clipboard.writeText(codeText).then(() => {
                    const button = document.querySelector(`#${id} + .copy-button`);
                    const originalText = button.textContent;
                    button.textContent = 'å·²è¤‡è£½ï¼';
                    setTimeout(() => {
                        button.textContent = originalText;
                    }, 1500);
                });
            };
            
            // ç¢ºä¿å°èˆªéˆæ¥æ­£å¸¸å·¥ä½œ
            const navLinks = document.querySelectorAll('nav a');
            navLinks.forEach(link => {
                if (link.getAttribute('href').startsWith('#')) {
                    link.addEventListener('click', function(e) {
                        e.preventDefault();
                        const targetId = this.getAttribute('href').substring(1);
                        const targetElement = document.getElementById(targetId);
                        
                        if (targetElement) {
                            targetElement.scrollIntoView({
                                behavior: 'smooth'
                            });
                            
                            // æ›´æ–° URL
                            history.pushState(null, null, this.getAttribute('href'));
                            
                            // é«˜äº®ç•¶å‰é …ç›®
                            document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
                            this.classList.add('active');
                        }
                    });
                }
            });
            
            // ç›£æ¸¬æ»¾å‹•ä»¥é«˜äº®ç•¶å‰ç« ç¯€
            const observerOptions = {
                root: null,
                rootMargin: '-100px 0px -70% 0px',
                threshold: 0
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    const id = entry.target.getAttribute('id');
                    const navLink = document.querySelector(`nav a[href="#${id}"]`);
                    
                    if (entry.isIntersecting && navLink) {
                        document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
                        navLink.classList.add('active');
                    }
                });
            }, observerOptions);
            
            document.querySelectorAll('section[id]').forEach((section) => {
                observer.observe(section);
            });
        });
    </script>
</body>
</html>

